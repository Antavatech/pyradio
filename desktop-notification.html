<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>PyRadio Desktop Notifications</title>
    <style> 
    body {padding: 2em;} 
    @media screen and (max-width: 770px) { 
        body {padding: 10px;} 
    }
    body {max-width: 750px; margin: auto;} 
    h2 {margin-top: 2.5em; border-bottom:1px solid SaddleBrown; color: SaddleBrown;} 
    h3 {margin-top: 2em; color: SaddleBrown; text-decoration: underline SaddleBrown} 
    h4 {margin: 2em 0 1em 0; color: SaddleBrown; font-size: 150%;} 
    h4:before {content: "# "; font-weight: bold; vertical-align: middle;} 
    h5 {margin: 2em 0 1em 0; color: SaddleBrown; font-size: 120%;} 
    h5:before {content: "## "; font-weight: bold; vertical-align: middle;} 
    STRONG {color: SaddleBrown;} 
    dl {margin: 2em;} 
    dd {margin: 1em;} 
    dt {font-weight: bold;} 
    TABLE {border: 1px solid SaddleBrown; border-collapse: collapse; margin-left: auto; margin-right: auto; border-radius: 5px; -moz-border-radius: 5px; border-collapse:separate; box-shadow: 5px 5px 15px #888888;} 
    TH {text-align: left; vertical-align: top; padding: 5px;color: SaddleBrown;border: 1px solid SaddleBrown; background-color: SaddleBrown; color: white;} 
    TD {text-align: left; vertical-align: top; padding: 5px 10px;border: 1px solid SaddleBrown;} 
    pre { background-color: rgba(245, 245, 245, 1); color: #474747; padding: 1.5em; border: 1px solid #C7C7C7; border-radius: 5px; -moz-border-radius: 5px; -webkit-border-radius: 5px; overflow: auto; box-shadow: 5px 5px 15px #C7C7C7;} 
    .task-list {list-style-type: none; padding: 0; margin: 0 0 0 1em ;} 
    img{display: block; margin-left: auto; margin-right: auto; max-width: 750px; width: 100%;  background:transparent; padding:3px; border:1px solid #999999; border-radius: 5px; -moz-border-radius: 5px; -webkit-border-radius: 5px; box-shadow:5px 5px 15px #888888;} 
    .indented {text-indent: -1.5em; padding-left: 1.5em; margin-left: 1em;} 
    a{ color: SaddleBrown;}
a:visited{color: SaddleBrown;}
</style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
</header>
<h1 style="color: SaddleBrown" id="pyradio-desktop-notification">PyRadio Desktop Notification</h1>
<p>Command line internet radio player.</p>
<p>Ben Dowling - <a target="_blank" href="https://github.com/coderholic">https://github.com/coderholic</a></p>
<h2 id="table-of-contents">Table of Contents <span style="padding-left: 10px;"><sup style="font-size: 50%"><a href="#" title="Go to top of the page">Top</a></sup></span></h2>
<!-- vim-markdown-toc Marked -->
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#on-linux">On Linux</a>
<ul>
<li><a href="#packagers-info">Packagers info</a></li>
</ul></li>
<li><a href="#on-macos">On MacOS</a></li>
<li><a href="#on-windows">On Windows</a>
<ul>
<li><a href="#configuring-notifications">Configuring notifications</a></li>
</ul></li>
<li><a href="#on-windows-7">On Windows 7</a></li>
</ul>
<!-- vim-markdown-toc -->
<p><a href="README.html">[Return to main doc]</a></p>
<h2 id="introduction">Introduction <span style="padding-left: 10px;"><sup style="font-size: 50%"><a href="#" title="Go to top of the page">Top</a></sup></span></h2>
<p><strong>PyRadio</strong> can provide Desktop Notifications when a notification daemon is already present (on Linux and BSD), or throught <strong>Windows Notification Service</strong> (<strong>WNS</strong>).</p>
<p>If enabled, <strong>PyRadio</strong> will display:</p>
<ol type="1">
<li>Song info (as provided by the radio station)<br />
That means that if the radio station does not provide any info, no notification will be issued.</li>
<li>Connection failure messages.</li>
<li>Player crash messages.</li>
</ol>
<p style="margin: 1.5em 4em 0 4em; text-indent: -2.5em;"><strong>Note:</strong> If Desktop Notification is enabled by default (in the case of a distro package) users can disable it by creating an empty <strong>~/.config/pyradio/notification</strong> file (Linux only).</p>
<h2 id="on-linux">On Linux <span style="padding-left: 10px;"><sup style="font-size: 50%"><a href="#" title="Go to top of the page">Top</a></sup></span></h2>
<p><a href="https://members.hellug.gr/sng/pyradio/pyradio-notif.jpg" target="_blank"><img style="width: 411px" src="https://members.hellug.gr/sng/pyradio/pyradio-notif.jpg" alt="Linux notification" /></a></p>

<p>On Linux (and the BSDs), <strong>PyRadio</strong> uses the <em>notification daemon</em> that’s already present, using whatever command it provides to send notifications to the daemon.</p>
<p>On my linux box, this is done using the <strong>notify-send</strong> command (as it would be with most distros).</p>
<p>This is its help screen.</p>
<pre># notify-send --help

Usage:
  notify-send [OPTION…] &lt;SUMMARY&gt; [BODY] - create a notification

Help Options:
  -?, --help                        Show help options

Application Options:
  -u, --urgency=LEVEL               Specifies the urgency level (low, normal, critical).
  -t, --expire-time=TIME            Specifies the timeout in milliseconds at which to expire the notification.
  -a, --app-name=APP_NAME           Specifies the app name for the icon
  -i, --icon=ICON                   Specifies an icon filename or stock icon to display.
  -c, --category=TYPE[,TYPE...]     Specifies the notification category.
  -e, --transient                   Create a transient notification
  -h, --hint=TYPE:NAME:VALUE        Specifies basic extra data to pass. Valid types are boolean, int, double, string, byte and variant.
  -p, --print-id                    Print the notification ID.
  -r, --replace-id=REPLACE_ID       The ID of the notification to replace.
  -w, --wait                        Wait for the notification to be closed before exiting.
  -A, --action=[NAME=]Text...       Specifies the actions to display to the user. Implies --wait to wait for user input. May be set multiple times. The name of the action is output to stdout. If NAME is not specified, the numerical index of the option is used (starting with 0).
  -v, --version                     Version of the package.</pre>
<p>In order to make <strong>PyRadio</strong> use it, we wil use this help screen to create a valid command, for example:</p>
<pre>notify-send -i ~/.config/pyradio/pyradio.png -t 6000 TITLE MSG</pre>
<p>This command will:</p>
<ul>
<li>display an icon (-i)<br />
The icon is already in <strong>PyRadio</strong> config folder; just use the full path to it.</li>
<li>display the notification for 6 seconds (-t)</li>
</ul>
<p>The <strong>TITLE</strong> and <strong>MSG</strong> tokens are just placeholders; <strong>PyRadio</strong> will replace them with real data when issuing the notification.</p>
<p>When the command is ready, we just write it to <strong>~/.config/pyradio/notification</strong>, like so:</p>
<pre>echo &quot;notify-send -i ~/.config/pyradio/pyradio.png -t 6000 TITLE MSG&quot; &gt; ~/.config/pyradio/notification</pre>
<p>Next time <strong>PyRadio</strong> is executed, it will read the above file, and start issuing notifications.</p>
<p>That was just an example to demonstrate the procedure one would follow to enable <strong>PyRadio</strong> Desktop Notifications.</p>
<p>Users can populate the <strong>~/.config/pyradio/notification</strong> files as needed and in accordance with their notification daemon / command.</p>
<h3 id="packagers-info">Packagers info</h3>
<p>Since Desktop Notifications are not enabled by default, packages will have to populate the <strong>notification</strong> file manually (which is originally an empty file in the <strong>pyradio</strong> directory), using the procedure described above.</p>
<p style="margin: 1.5em 4em 0 4em; text-indent: -2.5em;"><strong>Note:</strong> The icon will probable by in <strong>/usr/share/icons</strong>.</p>
<p style="margin: 1.5em 4em 0 4em; text-indent: -2.5em;"><strong>Note:</strong> Individual users can disable the Desktop Notifications enabled by the installed packaged, by creating an empty <strong>~/.config/pyradio/notification</strong> file.</p>
<h2 id="on-macos">On MacOS <span style="padding-left: 10px;"><sup style="font-size: 50%"><a href="#" title="Go to top of the page">Top</a></sup></span></h2>
<p><a href="https://members.hellug.gr/sng/pyradio/mac-notif.jpg" target="_blank"><img style="width: 411px" src="https://members.hellug.gr/sng/pyradio/mac-notif.jpg" alt="MacOS notification" /></a></p>

<p>MacOS Maverick (and later) provides a standardized way to display notifications, so it’s much more easier to enable them for <strong>PyRadio</strong>.</p>
<p>Just create a non-empty <strong>~/.config/pyradio/notification</strong> file:</p>
<pre>echo YES &gt; ~/.config/pyradio/notification</pre>
<p>To disable notifications, just make it empty:</p>
<pre>echo &gt; ~/.config/pyradio/notification</pre>
<h2 id="on-windows">On Windows <span style="padding-left: 10px;"><sup style="font-size: 50%"><a href="#" title="Go to top of the page">Top</a></sup></span></h2>
<p><a href="https://members.hellug.gr/sng/pyradio/win-notif.jpg" target="_blank"><img style="width: 411px" src="https://members.hellug.gr/sng/pyradio/win-notif.jpg" alt="Windows notification" /></a></p>

<p>As already stated <strong>PyRadio</strong> will display notifications throught <strong>Windows Notification Service</strong> (<strong>WNS</strong>).</p>
<p>All that you have to do in install one package, and you are done.</p>
<pre>python -m pip install win10toast</pre>
<p>If you wanto to disable Desktop Notification, just uninstall the package.</p>
<pre>python -m pip uninstall win10toast</pre>
<p>That’s all.</p>
<h3 id="configuring-notifications">Configuring notifications</h3>
<p>Window will display the program the notification comes from, which in this case is <strong>Python</strong>, not <strong>PyRadio</strong>.</p>
<p>By default, a sound is played when a notification is displayed, which is very annoying when using <strong>PyRadio</strong> to listen to music and such.</p>
<p>To change the setting, just hover your mouse over a notification and click on the three dots displayed next to the “<em>X</em>”.</p>
<p>Then you will get the menu that’s shown in the next image.</p>
<p><a href="https://members.hellug.gr/sng/pyradio/win-notif-edit.jpg" target="_blank"><img style="width: 411px" src="https://members.hellug.gr/sng/pyradio/win-notif-edit.jpg" alt="Windows notification edit" /></a></p>

<p>Click on “<em>Go to notification settings</em>” to open the window that’s shown below.</p>
<p style="margin: 1.5em 4em 0 4em; text-indent: -2.5em;"><strong>Note:</strong> Please be careful not to click on “*Turn off all notifications for Python”; if you do, it won’t be easy to get notifications back, especially on Window 10 and 11.</p>
<p><a href="https://members.hellug.gr/sng/pyradio/win-python-props.jpg" target="_blank"><img style="width: 574px" src="https://members.hellug.gr/sng/pyradio/win-python-props.jpg" alt="Windows notification properties" /></a></p>

<p>Please replicate the settings you see in the image above, and enjoy!</p>
<h2 id="on-windows-7">On Windows 7 <span style="padding-left: 10px;"><sup style="font-size: 50%"><a href="#" title="Go to top of the page">Top</a></sup></span></h2>
<p><a href="https://members.hellug.gr/sng/pyradio/win7-notif.jpg" target="_blank"><img style="width: 411px" src="https://members.hellug.gr/sng/pyradio/win7-notif.jpg" alt="Windows 7 notification" /></a></p>

<p>If you are on <strong>Windows 7</strong>, you will have a differently looking notification (shown above).</p>
<p>If you click on the little tool-like “icon” next to the “X”, you get to the “<strong>Notification Area Icons</strong>”, the notifications configuration window. A couple of options are available, and again, I do not know how easy it will be to enable the notification if disabled once.</p>
<p><a href="https://members.hellug.gr/sng/pyradio/win7-icons.jpg" target="_blank"><img style="width: 574px" src="https://members.hellug.gr/sng/pyradio/win7-icons.jpg" alt="Windows 7 Nontification Icons" /></a></p>

<p>Again, Window considers that the program sending the notifications is <strong>Python</strong>, not <strong>PyRadio</strong>, so that’s what you will be changing.</p>
</body>
</html>
